package org.molgen.genomeCATPro.guimodul.experiment;
/**
 * @name FilterExperimentDialog
 *
 * 
 * @author Katrin Tebel <tebel at molgen.mpg.de>
 * 
 *
 * The contents of this file are subject to the terms of either the GNU
 * General Public License Version 2 only ("GPL") or the Common
 * Development and Distribution License("CDDL") (collectively, the
 * "License"). You may not use this file except in compliance with the
 * License. 
 * You can obtain a copy of the License at http://www.netbeans.org/cddl-gplv2.html
 * or nbbuild/licenses/CDDL-GPL-2-CP. See the License for the
 * specific language governing permissions and limitations under the
 * License.  
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 */
import java.beans.PropertyChangeListener;
import java.beans.PropertyChangeSupport;
import javax.swing.ButtonModel;
import javax.swing.JOptionPane;
import org.molgen.genomeCATPro.common.Utils;
import org.molgen.genomeCATPro.data.DataManager;
import org.molgen.genomeCATPro.datadb.dbentities.Data;

/**
 *
 * 
 */
public class FilterExperimentDialog extends javax.swing.JDialog {

    Data data = null;
    String select = new String();
    String stData = "";
    String stOperator = "";
    String stValue = "";
    String stAddValue = "";
    Integer nofFiltered = new Integer(0);
    String stName = "";
    private PropertyChangeSupport changeSupport = new PropertyChangeSupport(this);
    private String stRatio = "RATIO";

    /** Creates new form FilterExperimentDialog */
    public FilterExperimentDialog(java.awt.Frame parent, boolean modal, Data d) {
        super(parent, modal);
        this.data = d;
        this.stName = Utils.getUniquableName(d.getName());

        initComponents();
        this.jTextFieldAddValue.setValue(0);
        this.jTextFieldValue.setValue(0);
        this.jTextFieldFactorSTDDEV.setValue(1);
    }

    public static void filterData(Data data) {
        FilterExperimentDialog d = new FilterExperimentDialog(null, true, data);
        d.setLocationRelativeTo(null);
        d.setVisible(true);
    }

    public Data getData() {
        return data;
    }

    public void setData(Data data) {
        this.data = data;
    }

    public String getSelect() {
        return this.select;
    }

    public void setSelect(String _select) {

        String old = this.select;
        this.select += _select;
        changeSupport.firePropertyChange("select", old, this.select);
    }

    public String getStAddValue() {
        return stAddValue;
    }

    public void setStAddValue(String stAddValue) {
        String old = this.stAddValue;
        this.stAddValue = stAddValue;
        changeSupport.firePropertyChange("stAddValue", old, this.stAddValue);
    }

    public String getStData() {
        return stData;
    }

    public void setStData(String stData) {
        String old = this.stData;
        this.stData = stData;
        changeSupport.firePropertyChange("stData", old, this.stData);
    }

    public String getStOperator() {
        return this.stOperator;
    }

    public void setStOperator(String stOperator) {
        String old = this.stOperator;
        this.stOperator = stOperator;
        changeSupport.firePropertyChange("stOperator", old, this.stOperator);
    }

    public String getStValue() {
        return stValue;
    }

    public void setStValue(String stValue) {
        String old = this.stValue;
        this.stValue = stValue;
        changeSupport.firePropertyChange("stValue", old, this.stValue);
    }

    public Integer getNofFiltered() {
        return nofFiltered;
    }

    public void setNofFiltered(Integer nofFiltered) {
        Integer old = this.nofFiltered;
        this.nofFiltered = nofFiltered;
        changeSupport.firePropertyChange("nofFiltered", old, this.nofFiltered);
    }

    public String getStName() {
        return stName;
    }

    public void setStName(String stName) {
        String old = this.stName;
        this.stName = stName;
        changeSupport.firePropertyChange("stName", old, this.stName);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        bindingGroup = new org.jdesktop.beansbinding.BindingGroup();

        buttonGroupOperator = new javax.swing.ButtonGroup();
        buttonGroupValue = new javax.swing.ButtonGroup();
        buttonGroupData = new javax.swing.ButtonGroup();
        buttonGroupAddValue = new javax.swing.ButtonGroup();
        jLabel1 = new javax.swing.JLabel();
        jTextFieldName = new javax.swing.JTextField();
        jPanel1 = new javax.swing.JPanel();
        rbOpLess = new javax.swing.JRadioButton();
        rbOpGreater = new javax.swing.JRadioButton();
        rbOpEqual = new javax.swing.JRadioButton();
        textOperator = new javax.swing.JLabel();
        rbOpLessEqual = new javax.swing.JRadioButton();
        rbOpGreaterEqual = new javax.swing.JRadioButton();
        jPanel2 = new javax.swing.JPanel();
        rbDataAll = new javax.swing.JRadioButton();
        rbDataNegativ = new javax.swing.JRadioButton();
        rbPositive = new javax.swing.JRadioButton();
        textData = new javax.swing.JLabel();
        rbDataABS = new javax.swing.JRadioButton();
        jPanel3 = new javax.swing.JPanel();
        rbValue0 = new javax.swing.JRadioButton();
        rbValueMean = new javax.swing.JRadioButton();
        rbValueMedian = new javax.swing.JRadioButton();
        textValue = new javax.swing.JLabel();
        rbValueUser = new javax.swing.JRadioButton();
        jTextFieldValue = new javax.swing.JFormattedTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTextArea1 = new javax.swing.JTextArea();
        jButtonAddOR = new javax.swing.JButton();
        jPanel4 = new javax.swing.JPanel();
        nofSpotsLabel = new javax.swing.JLabel();
        nofSpotsField = new javax.swing.JTextField();
        meanLabel = new javax.swing.JLabel();
        meanField = new javax.swing.JTextField();
        medianLabel = new javax.swing.JLabel();
        medianField = new javax.swing.JTextField();
        varianceLabel = new javax.swing.JLabel();
        varianceField = new javax.swing.JTextField();
        varianceLabel1 = new javax.swing.JLabel();
        stddevField = new javax.swing.JTextField();
        jButtonReset = new javax.swing.JButton();
        jButtonTestA = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        jTextFieldNofFilteredData = new javax.swing.JTextField();
        jButtonClear = new javax.swing.JButton();
        jLabel3 = new javax.swing.JLabel();
        jButtonSave = new javax.swing.JButton();
        jButtonCancel = new javax.swing.JButton();
        jTextFieldNameFilter = new javax.swing.JTextField();
        jPanel6 = new javax.swing.JPanel();
        rbAddValueSTDDEV = new javax.swing.JRadioButton();
        rbAddValueUser = new javax.swing.JRadioButton();
        jTextFieldAddValue = new javax.swing.JFormattedTextField();
        jTextFieldFactorSTDDEV = new javax.swing.JFormattedTextField();
        textAddValue = new javax.swing.JLabel();
        rbAddValueNone = new javax.swing.JRadioButton();
        jButtonAddAnd = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        jLabel1.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jLabel1.text")); // NOI18N

        org.jdesktop.beansbinding.Binding binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${data.name}"), jTextFieldName, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(""));

        buttonGroupOperator.add(rbOpLess);
        rbOpLess.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbOpLess.text")); // NOI18N
        rbOpLess.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgOperatorActionPerformed(evt);
            }
        });

        buttonGroupOperator.add(rbOpGreater);
        rbOpGreater.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbOpGreater.text")); // NOI18N
        rbOpGreater.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgOperatorActionPerformed(evt);
            }
        });

        buttonGroupOperator.add(rbOpEqual);
        rbOpEqual.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbOpEqual.text")); // NOI18N
        rbOpEqual.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgOperatorActionPerformed(evt);
            }
        });

        textOperator.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        textOperator.setPreferredSize(new java.awt.Dimension(170, 30));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${stOperator}"), textOperator, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        buttonGroupOperator.add(rbOpLessEqual);
        rbOpLessEqual.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbOpLessEqual.text")); // NOI18N
        rbOpLessEqual.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgOperatorActionPerformed(evt);
            }
        });

        buttonGroupOperator.add(rbOpGreaterEqual);
        rbOpGreaterEqual.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbOpGreaterEqual.text")); // NOI18N
        rbOpGreaterEqual.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgOperatorActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(rbOpLess)
                    .addComponent(rbOpGreaterEqual)
                    .addComponent(rbOpGreater)
                    .addComponent(rbOpEqual)
                    .addComponent(rbOpLessEqual))
                .addGap(40, 40, 40))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(textOperator, javax.swing.GroupLayout.PREFERRED_SIZE, 170, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(14, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addComponent(rbOpLess)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(rbOpLessEqual)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(rbOpGreater)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(rbOpGreaterEqual)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(rbOpEqual)
                .addGap(32, 32, 32)
                .addComponent(textOperator, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(26, 26, 26))
        );

        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(""));

        buttonGroupData.add(rbDataAll);
        rbDataAll.setSelected(true);
        rbDataAll.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbDataAll.text")); // NOI18N
        rbDataAll.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                rbDataActionPerformed(evt);
            }
        });

        buttonGroupData.add(rbDataNegativ);
        rbDataNegativ.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbDataNegativ.text")); // NOI18N
        rbDataNegativ.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                rbDataActionPerformed(evt);
            }
        });

        buttonGroupData.add(rbPositive);
        rbPositive.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbPositive.text")); // NOI18N
        rbPositive.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                rbDataActionPerformed(evt);
            }
        });

        textData.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        textData.setPreferredSize(new java.awt.Dimension(170, 30));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${stData}"), textData, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        buttonGroupData.add(rbDataABS);
        rbDataABS.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbDataABS.text")); // NOI18N
        rbDataABS.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                rbDataActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addGap(8, 8, 8)
                        .addComponent(rbDataAll))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(rbDataNegativ))
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(rbPositive)))
                .addContainerGap(86, Short.MAX_VALUE))
            .addComponent(textData, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 172, Short.MAX_VALUE)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(rbDataABS)
                .addContainerGap(48, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(rbDataAll)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(rbDataNegativ)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(rbPositive)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(rbDataABS)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 45, Short.MAX_VALUE)
                .addComponent(textData, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(""));

        buttonGroupValue.add(rbValue0);
        rbValue0.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbValue0.text")); // NOI18N
        rbValue0.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgValueActionPerformed(evt);
            }
        });

        buttonGroupValue.add(rbValueMean);
        rbValueMean.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbValueMean.text")); // NOI18N
        rbValueMean.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgValueActionPerformed(evt);
            }
        });

        buttonGroupValue.add(rbValueMedian);
        rbValueMedian.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbValueMedian.text")); // NOI18N
        rbValueMedian.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgValueActionPerformed(evt);
            }
        });

        textValue.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        textValue.setPreferredSize(new java.awt.Dimension(170, 30));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${stValue}"), textValue, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        buttonGroupValue.add(rbValueUser);
        rbValueUser.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbValueUser.text")); // NOI18N
        rbValueUser.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgValueActionPerformed(evt);
            }
        });

        jTextFieldValue.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0"))));
        jTextFieldValue.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jTextFieldValue.text_1")); // NOI18N
        jTextFieldValue.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                jTextFieldValuePropertyChange(evt);
            }
        });

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(rbValue0)
                        .addContainerGap())
                    .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel3Layout.createSequentialGroup()
                            .addComponent(rbValueMean)
                            .addContainerGap())
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel3Layout.createSequentialGroup()
                                .addComponent(rbValueMedian)
                                .addContainerGap())
                            .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jPanel3Layout.createSequentialGroup()
                                    .addComponent(rbValueUser)
                                    .addContainerGap())
                                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(textValue, javax.swing.GroupLayout.DEFAULT_SIZE, 182, Short.MAX_VALUE)
                                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                                        .addComponent(jTextFieldValue, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addContainerGap())))))))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                .addContainerGap(24, Short.MAX_VALUE)
                .addComponent(rbValue0)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(rbValueMean)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(rbValueMedian)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(rbValueUser)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jTextFieldValue, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(textValue, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jTextArea1.setColumns(20);
        jTextArea1.setEditable(false);
        jTextArea1.setRows(5);

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${select}"), jTextArea1, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        jScrollPane1.setViewportView(jTextArea1);

        jButtonAddOR.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jButtonAddOR.text")); // NOI18N
        jButtonAddOR.setActionCommand(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jButtonAddOR.actionCommand")); // NOI18N
        jButtonAddOR.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAddActionPerformed(evt);
            }
        });

        jPanel4.setBorder(javax.swing.BorderFactory.createTitledBorder(""));

        nofSpotsLabel.setFont(new java.awt.Font("Dialog", 0, 12));
        nofSpotsLabel.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        nofSpotsLabel.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.nofSpotsLabel.text")); // NOI18N

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${data.nof}"), nofSpotsField, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        meanLabel.setFont(new java.awt.Font("Dialog", 0, 12));
        meanLabel.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        meanLabel.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.meanLabel.text")); // NOI18N

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${data.mean}"), meanField, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        medianLabel.setFont(new java.awt.Font("Dialog", 0, 12));
        medianLabel.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        medianLabel.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.medianLabel.text")); // NOI18N

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${data.median}"), medianField, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        varianceLabel.setFont(new java.awt.Font("Dialog", 0, 12));
        varianceLabel.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        varianceLabel.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.varianceLabel.text")); // NOI18N

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${data.variance}"), varianceField, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        varianceLabel1.setFont(new java.awt.Font("Dialog", 0, 12));
        varianceLabel1.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        varianceLabel1.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.varianceLabel1.text")); // NOI18N

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${data.stddev}"), stddevField, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(38, 38, 38)
                .addComponent(nofSpotsLabel)
                .addGap(20, 20, 20)
                .addComponent(nofSpotsField, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(40, 40, 40)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(meanLabel, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(medianLabel, javax.swing.GroupLayout.Alignment.TRAILING))
                .addGap(41, 41, 41)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(medianField)
                    .addComponent(meanField, javax.swing.GroupLayout.DEFAULT_SIZE, 86, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(varianceLabel)
                    .addComponent(varianceLabel1))
                .addGap(36, 36, 36)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(stddevField)
                    .addComponent(varianceField, javax.swing.GroupLayout.DEFAULT_SIZE, 124, Short.MAX_VALUE))
                .addContainerGap(100, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(nofSpotsField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(meanField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(meanLabel)
                    .addComponent(nofSpotsLabel)
                    .addComponent(varianceLabel)
                    .addComponent(varianceField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(medianLabel)
                    .addComponent(medianField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(varianceLabel1)
                    .addComponent(stddevField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jButtonReset.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jButtonReset.text")); // NOI18N
        jButtonReset.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonResetActionPerformed(evt);
            }
        });

        jButtonTestA.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jButtonTestA.text")); // NOI18N
        jButtonTestA.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonTestAActionPerformed(evt);
            }
        });

        jLabel2.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jLabel2.text")); // NOI18N

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${nofFiltered}"), jTextFieldNofFilteredData, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        jButtonClear.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jButtonClear.text")); // NOI18N
        jButtonClear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonClearActionPerformed(evt);
            }
        });

        jLabel3.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jLabel3.text")); // NOI18N

        jButtonSave.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jButtonSave.text")); // NOI18N
        jButtonSave.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSaveActionPerformed(evt);
            }
        });

        jButtonCancel.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jButtonCancel.text")); // NOI18N
        jButtonCancel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonCancelActionPerformed(evt);
            }
        });

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${stName}"), jTextFieldNameFilter, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        jPanel6.setBorder(javax.swing.BorderFactory.createTitledBorder(""));

        buttonGroupAddValue.add(rbAddValueSTDDEV);
        rbAddValueSTDDEV.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbAddValueSTDDEV.text")); // NOI18N
        rbAddValueSTDDEV.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgAddValueActionPerformed(evt);
            }
        });

        buttonGroupAddValue.add(rbAddValueUser);
        rbAddValueUser.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbAddValueUser.text")); // NOI18N
        rbAddValueUser.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgAddValueActionPerformed(evt);
            }
        });

        jTextFieldAddValue.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#,##0"))));
        jTextFieldAddValue.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jTextFieldAddValue.text")); // NOI18N
        jTextFieldAddValue.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                jTextFieldAddValuePropertyChange(evt);
            }
        });

        jTextFieldFactorSTDDEV.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0.00"))));
        jTextFieldFactorSTDDEV.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jTextFieldFactorSTDDEV.text_1")); // NOI18N
        jTextFieldFactorSTDDEV.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                jTextFieldFactorSTDDEVPropertyChange(evt);
            }
        });

        textAddValue.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        textAddValue.setPreferredSize(new java.awt.Dimension(170, 30));

        binding = org.jdesktop.beansbinding.Bindings.createAutoBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, this, org.jdesktop.beansbinding.ELProperty.create("${stAddValue}"), textAddValue, org.jdesktop.beansbinding.BeanProperty.create("text"));
        bindingGroup.addBinding(binding);

        buttonGroupAddValue.add(rbAddValueNone);
        rbAddValueNone.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.rbAddValueNone.text")); // NOI18N
        rbAddValueNone.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bgAddValueActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(rbAddValueSTDDEV, javax.swing.GroupLayout.PREFERRED_SIZE, 91, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(rbAddValueUser, javax.swing.GroupLayout.PREFERRED_SIZE, 123, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(rbAddValueNone))
                .addContainerGap(59, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addContainerGap(60, Short.MAX_VALUE)
                .addComponent(jTextFieldAddValue, javax.swing.GroupLayout.PREFERRED_SIZE, 122, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addContainerGap(61, Short.MAX_VALUE)
                .addComponent(jTextFieldFactorSTDDEV, javax.swing.GroupLayout.PREFERRED_SIZE, 121, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(textAddValue, javax.swing.GroupLayout.DEFAULT_SIZE, 170, Short.MAX_VALUE))
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(rbAddValueSTDDEV)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jTextFieldFactorSTDDEV, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(rbAddValueUser)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jTextFieldAddValue, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 14, Short.MAX_VALUE)
                .addComponent(rbAddValueNone)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(textAddValue, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jButtonAddAnd.setText(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jButtonAddAnd.text")); // NOI18N
        jButtonAddAnd.setActionCommand(org.openide.util.NbBundle.getMessage(FilterExperimentDialog.class, "FilterExperimentDialog.jButtonAddAnd.actionCommand")); // NOI18N
        jButtonAddAnd.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAddActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jLabel3)
                        .addGap(3, 3, 3)
                        .addComponent(jTextFieldNameFilter, javax.swing.GroupLayout.PREFERRED_SIZE, 548, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 79, Short.MAX_VALUE)
                        .addComponent(jButtonSave))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addComponent(jLabel2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTextFieldNofFilteredData, javax.swing.GroupLayout.PREFERRED_SIZE, 91, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 448, Short.MAX_VALUE)
                        .addComponent(jButtonTestA)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButtonClear, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jButtonCancel, javax.swing.GroupLayout.Alignment.TRAILING))
                .addContainerGap())
            .addGroup(layout.createSequentialGroup()
                .addGap(12, 12, 12)
                .addComponent(jLabel1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jTextFieldName, javax.swing.GroupLayout.PREFERRED_SIZE, 459, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(311, Short.MAX_VALUE))
            .addGroup(layout.createSequentialGroup()
                .addGap(12, 12, 12)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jButtonAddAnd)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButtonAddOR)
                        .addGap(39, 39, 39)
                        .addComponent(jButtonReset)))
                .addContainerGap(12, Short.MAX_VALUE))
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addContainerGap())
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 801, Short.MAX_VALUE)
                        .addContainerGap(13, Short.MAX_VALUE))))
        );

        layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jButtonCancel, jButtonClear});

        layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jButtonAddAnd, jButtonAddOR});

        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(jTextFieldName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel1, 0, 201, Short.MAX_VALUE)
                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButtonReset)
                    .addComponent(jButtonAddAnd)
                    .addComponent(jButtonAddOR))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addGap(33, 33, 33)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel2)
                            .addComponent(jTextFieldNofFilteredData, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                            .addComponent(jLabel3)
                            .addComponent(jTextFieldNameFilter, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jButtonCancel)
                            .addComponent(jButtonSave))
                        .addGap(27, 27, 27))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jButtonClear)
                            .addComponent(jButtonTestA))
                        .addContainerGap(96, Short.MAX_VALUE))))
        );

        layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {jPanel1, jPanel2, jPanel3, jPanel6});

        bindingGroup.bind();

        pack();
    }// </editor-fold>//GEN-END:initComponents

private void rbDataActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_rbDataActionPerformed
    ButtonModel selectedModel = this.buttonGroupData.getSelection();
    this.stRatio = "RATIO";
    if (this.rbDataAll.getModel() == selectedModel) {
        this.setStData("");


    }
    if (this.rbDataNegativ.getModel() == selectedModel) {
        this.setStData("RATIO <= 0");
    }
    if (this.rbPositive.getModel() == selectedModel) {
        this.setStData("RATIO >= 0");
    }
    if (this.rbDataABS.getModel() == selectedModel) {
        this.setStData("");
        this.stRatio = "ABS(RATIO)";
    }
}//GEN-LAST:event_rbDataActionPerformed

private void bgOperatorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bgOperatorActionPerformed
    ButtonModel selectedModel = this.buttonGroupOperator.getSelection();

    if (this.rbOpEqual.getModel() == selectedModel) {
        this.setStOperator(" = ");
        return;
    }
    if (this.rbOpGreater.getModel() == selectedModel) {
        this.setStOperator(" > ");
        return;
    }
    if (this.rbOpLess.getModel() == selectedModel) {
        this.setStOperator(" < ");
        return;
    }
    if (this.rbOpGreaterEqual.getModel() == selectedModel) {
        this.setStOperator(" >= ");
        return;
    }
    if (this.rbOpLessEqual.getModel() == selectedModel) {
        this.setStOperator(" <= ");
        return;
    }



}//GEN-LAST:event_bgOperatorActionPerformed
    static String _sql;
private void jButtonResetActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonResetActionPerformed

    this.select = this.select.replace(_sql, "");
    this.setSelect(" ");
}//GEN-LAST:event_jButtonResetActionPerformed

private void bgValueActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bgValueActionPerformed
    ButtonModel selectedModel = this.buttonGroupValue.getSelection();
    if (this.rbValue0.getModel() == selectedModel) {
        this.setStValue("0");
        return;
    }
    if (this.rbValueMean.getModel() == selectedModel) {
        this.setStValue(this.data.getMean().toString());
        return;
    }
    if (this.rbValueMedian.getModel() == selectedModel) {
        this.setStValue(this.data.getMedian().toString());
    }
    if (this.rbValueUser.getModel() == selectedModel) {
        try {
            this.setStValue(this.jTextFieldValue.getValue().toString());
        } catch (Exception e) {
        }
        return;
    }
}//GEN-LAST:event_bgValueActionPerformed

private void jButtonTestAActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonTestAActionPerformed
    try {
        this.setNofFiltered(DataManager.doTestFilter(data, this.select));
    } catch (Exception ex) {
        JOptionPane.showMessageDialog(this, "error  - see logfile for more information: ");
    }
    }//GEN-LAST:event_jButtonTestAActionPerformed

private void jButtonClearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonClearActionPerformed

    this.select = "";
    this.setSelect(" ");
    this.setNofFiltered(0);

}//GEN-LAST:event_jButtonClearActionPerformed

private void jButtonSaveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSaveActionPerformed
    try {

        Data newData = DataManager.doFilter(data, stName, select);
        JOptionPane.showMessageDialog(this, "done");
    } catch (Exception e) {
        JOptionPane.showMessageDialog(this, "error  - see logfile for more information: ");
    }
}//GEN-LAST:event_jButtonSaveActionPerformed

private void jButtonCancelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonCancelActionPerformed
    this.dispose();
}//GEN-LAST:event_jButtonCancelActionPerformed

private void bgAddValueActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bgAddValueActionPerformed
    ButtonModel selectedModel = this.buttonGroupAddValue.getSelection();

    if (this.rbAddValueSTDDEV.getModel() == selectedModel) {
        this.setStAddValue(this.jTextFieldFactorSTDDEV.getValue().toString() +
                " * " + this.data.getStddev().toString());
        return;
    }
    if (this.rbAddValueUser.getModel() == selectedModel) {
        this.setStAddValue(this.jTextFieldAddValue.getValue().toString());
        return;
    }
    if (this.rbAddValueNone.getModel() == selectedModel) {
        this.setStAddValue("");
        return;
    }

}//GEN-LAST:event_bgAddValueActionPerformed

private void jTextFieldValuePropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_jTextFieldValuePropertyChange
    if (this.rbValueUser.getModel() == this.buttonGroupValue.getSelection()) {
        this.setStValue(this.jTextFieldValue.getValue().toString());
    }
}//GEN-LAST:event_jTextFieldValuePropertyChange

private void jTextFieldFactorSTDDEVPropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_jTextFieldFactorSTDDEVPropertyChange
    if (this.rbAddValueSTDDEV.getModel() == this.buttonGroupAddValue.getSelection()) {
        this.setStAddValue(this.jTextFieldFactorSTDDEV.getValue().toString() +
                " * " + this.data.getStddev().toString());
    }
}//GEN-LAST:event_jTextFieldFactorSTDDEVPropertyChange

private void jTextFieldAddValuePropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_jTextFieldAddValuePropertyChange
    if (this.rbAddValueUser.getModel() == this.buttonGroupAddValue.getSelection()) {
        this.setStValue(this.jTextFieldAddValue.getValue().toString());
    }
}//GEN-LAST:event_jTextFieldAddValuePropertyChange

private void jButtonAddActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonAddActionPerformed
    String command = evt.getActionCommand();
    _sql = "";
    if (!this.stData.contentEquals("")) {
        _sql += this.stData + " AND ";
    }
    _sql += this.stRatio;
    _sql += this.stOperator;
    _sql += "(" + this.stValue;
    if (!this.stAddValue.contentEquals("")) {
        _sql += " +  ( " + this.stAddValue + "  ) ) ";
    } else {
        _sql += ")";

    }
    _sql = "(" + _sql + ")";
    if (this.select.trim().length() > 0) {
        _sql = " " + command + " " + _sql;
    }
    this.setSelect(_sql);
}//GEN-LAST:event_jButtonAddActionPerformed
    @Override
    public void addPropertyChangeListener(PropertyChangeListener listener) {
        changeSupport.addPropertyChangeListener(listener);
    }

    @Override
    public void removePropertyChangeListener(PropertyChangeListener listener) {
        changeSupport.removePropertyChangeListener(listener);
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.ButtonGroup buttonGroupAddValue;
    private javax.swing.ButtonGroup buttonGroupData;
    private javax.swing.ButtonGroup buttonGroupOperator;
    private javax.swing.ButtonGroup buttonGroupValue;
    private javax.swing.JButton jButtonAddAnd;
    private javax.swing.JButton jButtonAddOR;
    private javax.swing.JButton jButtonCancel;
    private javax.swing.JButton jButtonClear;
    private javax.swing.JButton jButtonReset;
    private javax.swing.JButton jButtonSave;
    private javax.swing.JButton jButtonTestA;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTextArea jTextArea1;
    private javax.swing.JFormattedTextField jTextFieldAddValue;
    private javax.swing.JFormattedTextField jTextFieldFactorSTDDEV;
    private javax.swing.JTextField jTextFieldName;
    private javax.swing.JTextField jTextFieldNameFilter;
    private javax.swing.JTextField jTextFieldNofFilteredData;
    private javax.swing.JFormattedTextField jTextFieldValue;
    private javax.swing.JTextField meanField;
    private javax.swing.JLabel meanLabel;
    private javax.swing.JTextField medianField;
    private javax.swing.JLabel medianLabel;
    private javax.swing.JTextField nofSpotsField;
    private javax.swing.JLabel nofSpotsLabel;
    private javax.swing.JRadioButton rbAddValueNone;
    private javax.swing.JRadioButton rbAddValueSTDDEV;
    private javax.swing.JRadioButton rbAddValueUser;
    private javax.swing.JRadioButton rbDataABS;
    private javax.swing.JRadioButton rbDataAll;
    private javax.swing.JRadioButton rbDataNegativ;
    private javax.swing.JRadioButton rbOpEqual;
    private javax.swing.JRadioButton rbOpGreater;
    private javax.swing.JRadioButton rbOpGreaterEqual;
    private javax.swing.JRadioButton rbOpLess;
    private javax.swing.JRadioButton rbOpLessEqual;
    private javax.swing.JRadioButton rbPositive;
    private javax.swing.JRadioButton rbValue0;
    private javax.swing.JRadioButton rbValueMean;
    private javax.swing.JRadioButton rbValueMedian;
    private javax.swing.JRadioButton rbValueUser;
    private javax.swing.JTextField stddevField;
    private javax.swing.JLabel textAddValue;
    private javax.swing.JLabel textData;
    private javax.swing.JLabel textOperator;
    private javax.swing.JLabel textValue;
    private javax.swing.JTextField varianceField;
    private javax.swing.JLabel varianceLabel;
    private javax.swing.JLabel varianceLabel1;
    private org.jdesktop.beansbinding.BindingGroup bindingGroup;
    // End of variables declaration//GEN-END:variables
}
